<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Node</title>
    <style>
        table{
           border-collapse: collapse;
       }
       caption, th {
           border: 1px solid #ccc;
           text-align: center;
           height: 1.8em;
       }
       td {
           border: 1px solid #ccc;
           text-align: left;
           padding-left: 0.3em;
           height: 1.8em;
       }
       table table {
        font-size: 0.8em;
       }
   </style>
</head>
<body>
    <h1>노드 선택하기</h1>
    <p>자바스크립트로 웹 브라우저에 표시되는 HTML 문서를 조적하려면 문서 객체 모델을 조작해야 한다. 문서 객체 모델은 window 객체의 document 객체를 사용해 조작할 수 있다.</p>
    <p>그래서 자바스크립트로 HTML 문서를 조작할 때 가장 먼저 할 일은 document 객체로 조작하려고 하는 문서 객체 모델의 노드를 선택하는 것이다. -> 이때, 주로 요소 노드를 선택해 조작한다.</p>
    <br>
    <h2>속성으로 노드 선택하기</h2>
    <p>documnet 객체는 트리를 탐색하면서 원하는 노드를 선택할 수 있는 속성을 제공한다.</p>
    <fieldset>
        <legend>노드 탐색 속성</legend>
        <table>
            <tr>
                <th style="width: 200px;">구분</th>
                <th style="width: 200px;">속성</th>
                <th style="width: 300px;">설명</th>
            </tr>
            <tr>
                <td rowspan="6">모든 노드 탐색</td>
                <td>parentNode</td>
                <td>부모 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>childNodes</td>
                <td>모든 자식 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>firstChild</td>
                <td>첫 번째 자식 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>lastChild</td>
                <td>마지막 자식 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>previousSibling</td>
                <td>이전 형제 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>nextSibling</td>
                <td>다음 형제 노드를 반환한다.</td>
            </tr>
            <tr>
                <td rowspan="6">요소 노드 탐색</td>
                <td>parentElement</td>
                <td>부모 요소 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>children</td>
                <td>자식 요소 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>firstElementChild</td>
                <td>첫 번째 자식 요소 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>lastElementChild</td>
                <td>마지막 자식 요소 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>previousElementSibling</td>
                <td>이전 요소 노드를 반환한다.</td>
            </tr>
            <tr>
                <td>nextElementSibling</td>
                <td>다음 요소 노드를 반환한다.</td>
            </tr>
        </table>
    </fieldset>
    <br>
    <fieldset>
        <legend>노드 탐색 속성 사용 예시</legend>
        <table>
            <tr>
                <th style="width: 250px;">사용 예시</th>
                <th style="width: 450px;">결과</th>
            </tr>
            <tr>
                <td>documnet.firstChild;</td>
                <td>
                    결과 : < DOCTYPE html>
                    <p>document 객체로 접근할 수 있는 첫번째 자식 노드</p>
                </td>
            </tr>
            <tr>
                <td>documnet.firstElementChild;</td>
                <td>
                    결과 : html
                    <p>document 객체로 접근할 수 있는 첫번째 자식 <b>요소</b> 노드</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>document.childNodes[1].firstElementChild<br>.firstElementChild.nextElementSibling;</p>
                </td>
                <td>노드 탐색 속성을 이와 같이 연속으로 사용할 수도 있다.</td>
            </tr>
        </table>
    </fieldset>
    <p>노드 탐색 속성으로 노드를 선택하는 방법은, 노드의 타입을 가리지 않고 모든 노드를 이동하며 선택할 수 있다는 장점이 있다.</p>
    <p>하지만 DOM 트리가 복잡할수록 원하는 노드를 찾아가기 어렵다.</p>
    <br>
    <h2>메서드로 노드 선택하기</h2>
    <p>노드 탐색 속성의 단점을 상쇄하기 위해, 일반적으로 요소 노드를 바로 선택할 수 있는 <b>메서드를 이용한 노드 선택 방법</b>과 적절하게 조합해서 사용한다.</p>
    <h3>get 메서드 - 속성값과 태그명 사용하기</h3>
    <fieldset>
        <legend>get 메서드</legend>
        <table>
            <tr>
                <th style="width: 350px;">메서드 형식</th>
                <th style="width: 400px;">설명</th>
            </tr>
            <tr>
                <td>getElementById("id 속성값")</td>
                <td>id 속성값과 일치하는 요소 노드를 1개만 선택한다.</td>
            </tr>
            <tr>
                <td>getElementByClassName("class 속성값")</td>
                <td>class 속성값과 일치하는 요소 노드를 모두 선택한다.</td>
            </tr>
            <tr>
                <td>getElementByTagName("태그명")</td>
                <td>태그명과 일치하는 요소 노드를 모두 선택한다.</td>
            </tr>
        </table>
        <p>각 메서드는 매개변수(파라미터)로 id 속성값, class 속성값, HTML 태그명을 전달받아 노드를 선택한다.</p>
    </fieldset>
    <fieldset>
        <legend>get 메서드 예제 코드</legend>
        <button onclick="getElement()">예시 파일</button>
        <p>위 팝업을 열고 개발자 도구를 열면 실행 결과 확인 가능</p>
        <p>단일 요소 노드를 선택하는 getElementById() 메서드와 달리, 다른 두 메서드는 HTMLCollection 객체로 여러 요소를 한꺼번에 선택한다.</p>
        <p>이때, HTMLCollection 객체는 <b>유사 배열</b>이라서 배열의 인덱스로 요소에 하나씩 접근할 수 있다.</p>
    </fieldset>
    <h4>유사 배열?</h4>
    <p>여러 개의 노드를 선택하는 document 객체의 속성이나 메서드를 사용하다보면, 선택된 노드들이 HTMLCollection이나 NodeList 객체 등에 담겨 반환된다.</p>
    <p>이때의 출력 형태가 마치 배열처럼 보이지만, 배열 자료형에는 없는 여러 객체 속성을 가지게 된다. 이를 유사 배열이라고 한다.</p>
    <h3>query 메서드 - CSS 선택자 사용하기</h3>
    <fieldset>
        <legend>query 메서드</legend>
        <table>
            <tr>
                <th style="width: 350px;">메서드 형식</th>
                <th style="width: 400px;">설명</th>
            </tr>
            <tr>
                <td>querySelector("CSS 선택자")</td>
                <td>매개변수로 넘어오는 CSS 선택자에 해당하는 노드를 1개만 선택한다.</td>
            </tr>
            <tr>
                <td>querySelectorAll("CSS 선택자")</td>
                <td>매개변수로 넘어오는 CSS 선택자에 해당하는 노드를 모두 선택한다.</td>
            </tr>
        </table>
        <p>각 메서드는 매개변수(파라미터)로 CSS 선택자를 전달받아 노드를 선택한다.</p>
    </fieldset>
    <fieldset>
        <legend>query 메서드 예제 코드</legend>
        <button onclick="query()">예시 파일</button>
        <p>위 팝업을 열고 개발자 도구를 열면 실행 결과 확인 가능</p>
        <p>querySelector() 메서드는 요소 노드를 1개만 선택할 때 사용하고, querySelectorAll() 메서드는 노드를 2개 이상 선택할 때 사용한다.</p>
    </fieldset>
    <p>여러 개의 노드를 선택할 때, getElementByClassName() 메서드와 getElementByTagName() 메서드는 노드를 HTMLCollction 객체에 담아 반환하지만, querySelectorAll() 메서드는 NodeList 객체에 담아 반환한다.</p>

    <script>
        function getElement(){
            window.open('5_2_1_getElement.html', 'get메서드', 'width=400, height=500');
        }
        function query(){
            window.open('5_2_2_query.html', 'query메서드', 'width=400, height=500');
        }
    </script>
</body>
</html>